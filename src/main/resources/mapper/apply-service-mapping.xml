<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="ns.sql.ApplyMapper">
	<resultMap id="applyResultMap" type="Apply">
		<id property="no" column="a_no"/>
		<result property="uEmail" column="u_email"/>
		<result property="oNo" column="o_no"/>
		<result property="createdAt" column="a_createdAt"/>
		<result property="text" column="a_text"/>
		<result property="status" column="a_staus"/>
	</resultMap>

	<insert id="applyToOpening" parameterType="Apply">
		INSERT INTO Apply
		(u_email, o_no, a_createdAt, a_text, a_status)
		VALUES (#{uEmail}, #{oNo}, #{createdAt}, #{text}, 'pending');
	</insert>

	<select id="getApplicants" parameterType="Integer" resultMap="applyResultMap">
		SELECT *
		FROM Apply
		WHERE a_no = #{VALUE}
	</select>

	<update id="updateApplyStatus" parameterType="map">
		UPDATE Apply
		SET a_status = #{status}
		WHERE a_no = #{no}
	</update>

</mapper>

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
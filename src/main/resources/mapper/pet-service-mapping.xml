<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="ns.sql.PetMapper">

<!--	<resultMap id="userResultMap" type="User">-->
<!--		<id property="email" column="u_email"/>-->
<!--		<result property="name" column="u_name"/>-->
<!--		<result property="bdate" column="u_bdate"/>-->
<!--		<result property="gender" column="u_gender"/>-->
<!--		<result property="pwd" column="u_pwd"/>-->
<!--		<result property="phone" column="u_phone"/>-->
<!--		<result property="grade" column="u_grade"/>-->
<!--		<result property="image" column="u_image"/>-->
<!--	</resultMap>-->
	<resultMap id="petResultMap" type="Pet">
		<id property="no" column="p_no"/>
		<result property="uEmail" column="u_email"/>
		<result property="name" column="p_name"/>
		<result property="species" column="p_species"/>
		<result property="breed" column="p_breed"/>
		<result property="bDate" column="p_bdate"/>
		<result property="gender" column="p_gender"/>
		<result property="image" column="p_image"/>
	</resultMap>
<select id="getPets" parameterType="String" resultMap="petResultMap">
	select * from pet
	where u_email=#{value}
</select>
<insert id="insertPet" parameterType="Pet">
	insert into pet(u_email,p_name,p_species,p_breed,p_bdate,p_gender,p_image)
	values(#{uEmail},#{name},#{species},#{breed},#{bDate},#{gender},#{image})
</insert>
<update id="updatePet" parameterType="Pet">
	update pet set p_name = #{name}, p_species=#{species},p_breed=#{breed},p_bdate=#{bDate},p_gender=#{gender},p_image=#{image, jdbcType=BLOB}
	where p_no=#{no}
</update>
<delete id="deletePet" parameterType="int">
	delete from pet where p_no=#{no}
</delete>
<select id="getPet" parameterType="int" resultMap="petResultMap">
	SELECT * FROM PET WHERE p_no=#{VALUE}
</select>
</mapper>